import{d as v,r as o,o as w,k as h,u as k,_ as $,a as i,c,b as s,F as y,e as B}from"./index-dc10c74a.js";import{i as C}from"./axios-e04a9f32.js";import{u as M}from"./useTo-872da6cd.js";import V from"logo.png";import W from"menu-dots.svg";import b from"comments.svg";const E=v({name:"viewer",components:{},setup(){const r=h(),e=o([]),p=o(),l=o(),m=k(),t=o(!0),a=o(),{toMain:u}=M(m),_=async()=>{const{data:n}=await C.get(`/pages/chapter/${r.params.chapterId}`);e.value=n.data.pages,a.value=n.data.chapter,g()},g=()=>{setTimeout(()=>{p.value.forEach((n,f)=>{n.style.backgroundImage=`url(${e.value[f].image})`})},1e3)},d=()=>{t?t.value=!t.value:t.value=!0};return w(async()=>{_()}),{pages:e,pageViewer:p,wrapper:l,toMain:u,toggleWrapper:d,isWrapperActive:t,chapter:a}}}),F={class:"viewer"},I={class:"pages"},P=s("img",{class:"wrapper__img",src:V,alt:"logo"},null,-1),R=[P],T=s("div",{class:"wrapper__menu"},[s("img",{src:W,class:"wrapper__menu-icon",alt:"menu"})],-1),A=s("div",{class:"wrapper__comments"},[s("img",{src:b,class:"wrapper__comments-icon",alt:"comments"})],-1);function L(r,e,p,l,m,t){return i(),c("div",F,[s("div",I,[(i(!0),c(y,null,B(r.pages,a=>(i(),c("div",{ref_for:!0,ref:"pageViewer",class:"pages__page"},null,512))),256))]),s("div",{ref:"wrapper",onClick:e[1]||(e[1]=(...a)=>r.toggleWrapper&&r.toggleWrapper(...a)),class:"wrapper"},[s("div",{class:"wrapper__logo",onClick:e[0]||(e[0]=(...a)=>r.toMain&&r.toMain(...a))},R),T,A],512)])}const H=$(E,[["render",L]]);export{H as default};
